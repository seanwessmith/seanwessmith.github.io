<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>UOD ROI Calculator</title>
<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="wynd.css">
<link rel="stylesheet" type="text/css" href="3.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="modernizer.js"></script>
<!-- JustGauge Javascript-->
<script src="raphael.js"></script>
<script src="justgauge.js"></script>
<!-- End JustGauge Javascript-->
<!-- Powerrange Javascript-->
<link rel="stylesheet" type="text/css" href="powerange.min.css">
<script src="powerange.min.js"></script>
<!-- Powerrange Javascript-->

<!--typekit Integration-->
<script src="//use.typekit.net/cdf8wqe.js"></script>
<script>try{Typekit.load();}catch(e){}</script>
<!--End typekit Integration-->
</head>
<body>
<div class="padme" id="connect">
<div class="col-sm-12 boxg">
  <h2>Output Director &nbsp; &nbsp; &nbsp; |  &nbsp; &nbsp; &nbsp;   ROI Calculator</h2>
</div>

<!------------------------------------------------ Sliders ---------------------------------------------------->
<div class="boxc"> </div>
<div class="col-md-5">
  <form class="form-inline">
    <label for=fader class="all" title="Select the number of EBS instances. The more instances you have the more you need Output Director!">&nbsp;&nbsp;&nbsp; How many EBS instances do you have?</label>
    <div class="slider-wrapper">
      <input type="text" class="js-callback" />
      <div id="instance-slider" class="display-box"></div>
    </div>
    <label for=fader class="all" title="Select the number of printers currently used by your company.">&nbsp;&nbsp;&nbsp; Roughly how many printers do you have?</label>
    <div class="slider-wrapper">
      <input type="text" class="js-printer" />
      <div id="printer-slider" class="display-box"></div>
    </div>
    <hr align="center">
    <label for=fader class="all" title="Select the number of printer relocations your company does per year.">&nbsp;&nbsp;&nbsp; How many printer moves are done per year?</label>
    <div class="slider-wrapper">
      <input type="text" class="js-moves" />
      <div id="moves-slider" class="display-box"></div>
    </div>
    <label for=fader class="all" title="Select the number of pritner your company purchases each year.">&nbsp;&nbsp;&nbsp; How many printers are added per year?</label>
    <div class="slider-wrapper">
      <input type="text" class="js-added" />
      <div id="added-slider" class="display-box"></div>
    </div>
    <hr align="center">
    <label for=fader class="all" title="Select the burden rate for your average computer engineer. Burden Rate equals all the cost that goes into an employee; salary, benefits, medical">&nbsp;&nbsp;&nbsp; What is your burden rate?</label>
    <div class="slider-wrapper">
      <input type="text" class="js-burden" />
      <div id="burden-slider" class="display-box"></div>
    </div>
  </form>
</div>
<div class="mid-md-2"> </div>
<!----------------------------------------------------------------------------------------------- Gauges and Bar --------------------------------------------------------------------->
<div class="col-md-5">
  <div id="gauge" class="10x10px" style="width: 100%;height: 80%;"></div>
  <label class="all">&nbsp;&nbsp; We would project your monthly ROI is...</label>
  <div class="progress">
    <div id = "progress-bar" class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="24"> 6 Months </div>
  </div>
  <label id="demo"></label>
</div>
<script>
/************************************* The Javascript below will change the Gauge and Bar onchange of the sliders *************************************/
var check1;
var total;
check1 = $("#instance-slider").html();
check2 = $("#printer-slider").html();
check3 = $("#moves-slider").html();
check4 = $("#added-slider").html();
check5 = $("#burden-slider").html();

$(document).foundation({
  slider: {
    on_change: function(){
      total = (parseFloat(check2) * parseFloat(check5) / ((parseFloat(check1) * 10000) - (parseFloat(check3) / 12 * 3 * parseFloat(check5)) * .9 + (parseFloat(check4) / 12 * 3 * parseFloat(check5)) * .9)) * 10
	  check1 = $("#instance-slider").html();
	  check2 = $("#printer-slider").html();
	  check3 = $("#moves-slider").html();
	  check4 = $("#added-slider").html();
	  check5 = $("#burden-slider").html();
      $("#gauge").empty();

      total = (parseFloat(check2) * parseFloat(check5) / ((parseFloat(check1) * 10000) - (parseFloat(check3) / 12 * 3 * parseFloat(check5)) * .9 + (parseFloat(check4) / 12 * 3 * parseFloat(check5)) * .9)) * 10

      //Gauge
      var g = new JustGage({
        id: "gauge",
        value: total,
        min: 0,
    	max: 24,
    	title: "Projected Months Until ROI"
      }); 
	    var greeting;
      if (total < 6) {
        greeting = "&nbsp; Congrats, You are below the industry average!";
      } else {
        greeting = " ";
      }
      document.getElementById("demo").innerHTML = greeting;
	
	var gcolor;
	gcolor = $("#gauge").html();
		//Matches the progress bar to the Gauge 
        $("#progress-bar").attr("style",  "background-color:"+gcolor+";" + "width:"+ (total * 4.1666666) +"%;");
        $('#progress-bar').text(function(i, oldText) {
        return Math.round(total) + " Months";
		
	  //Congratulates if ROI is 6 months or less
      });
    }
  }
});

 $(function() {
    $( document ).tooltip();
  });
//End Popup Jquery

// Testing Object.Observe
var todoModel = {
  label: 'Default',
  completed: false
};
function observer(changes){
  changes.forEach(function(change, i){
      console.log('what property changed? ' + change.name);
      console.log('how did it change? ' + change.type);
      console.log('whats the current value? ' + change.object[change.name]);
      console.log(change); // all changes
  });
}
Object.observe(todoModel, observer);

////////////////////////////////Instance Slider////////////////////////////////
    var clbk = document.querySelector('.js-callback');
    var initClbk = new Powerange(clbk, { callback: displayValue, start: 88 });

    function displayValue() {
      document.getElementById('instance-slider').innerHTML = clbk.value;
    }
	
//////////////////////////////Printer Slider/////////////////////////////////
    var printer = document.querySelector('.js-printer');
    var initPrinter = new Powerange(printer, { callback: displayValue2, start: 88 });

    function displayValue2() {
      document.getElementById('printer-slider').innerHTML = printer.value;
    }
//////////////////////////////Moves Slider/////////////////////////////////
    var moves = document.querySelector('.js-moves');
    var initMoves = new Powerange(moves, { callback: displayValue3, start: 88 });

    function displayValue3() {
      document.getElementById('moves-slider').innerHTML = moves.value;
    }
//////////////////////////////Added Slider/////////////////////////////////
    var added = document.querySelector('.js-added');
    var initAdded = new Powerange(added, { callback: displayValue4, start: 88 });

    function displayValue4() {
      document.getElementById('added-slider').innerHTML = added.value;
    }
//////////////////////////////Burden Slider/////////////////////////////////
    var burden = document.querySelector('.js-burden');
    var initBurden = new Powerange(burden, { callback: displayValue5, start: 88 });

    function displayValue5() {
      document.getElementById('burden-slider').innerHTML = burden.value;
    }	
  </script>
</body>
</html>
